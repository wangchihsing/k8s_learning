<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodePort åœ¨ä¸åŒç’°å¢ƒä¸‹çš„è¡Œç‚ºå°æ¯”</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .environment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }
        
        .environment-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-top: 6px solid #3498db;
        }
        
        .environment-card.normal {
            border-top-color: #27ae60;
        }
        
        .environment-card.special {
            border-top-color: #e74c3c;
        }
        
        .environment-card.cloud {
            border-top-color: #3498db;
        }
        
        .network-diagram {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
        }
        
        .network-node {
            display: inline-block;
            padding: 12px 18px;
            margin: 8px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            min-width: 100px;
        }
        
        .network-node.user { background: #4ecdc4; }
        .network-node.direct { background: #27ae60; }
        .network-node.blocked { background: #e74c3c; }
        .network-node.vm { background: #f39c12; color: #2c3e50; }
        .network-node.k8s { background: #a29bfe; }
        .network-node.cloud { background: #74b9ff; }
        
        .arrow {
            font-size: 1.5em;
            margin: 0 10px;
        }
        
        .arrow.success { color: #27ae60; }
        .arrow.fail { color: #e74c3c; }
        .arrow.workaround { color: #f39c12; }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .status-badge.works {
            background: #d1f2eb;
            color: #00b894;
        }
        
        .status-badge.blocked {
            background: #ffeaa7;
            color: #e17055;
        }
        
        .status-badge.complex {
            background: #ddd6fe;
            color: #8b5cf6;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin: 30px 0;
        }
        
        .solution-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .solution-card {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .solution-card.recommended {
            background: #d1f2eb;
            border: 2px solid #00b894;
        }
        
        .solution-card.current {
            background: #ffeaa7;
            border: 2px solid #e17055;
        }
        
        .why-box {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #3498db;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ NodePort åœ¨ä¸åŒç’°å¢ƒä¸‹çš„è¡Œç‚ºå¤§æ­å¯†</h1>
        
        <div class="highlight-box">
            <h2>ğŸ¯ é‡è¦è§€å¿µæ¾„æ¸…</h2>
            <p><strong>NodePort æœ¬ä¾†å°±æ‡‰è©²å¯ä»¥ç›´æ¥è¨ªå•ï¼</strong></p>
            <p>ä½ éœ€è¦ç«¯å£è½‰ç™¼æ˜¯å› ç‚ºä½ çš„ç’°å¢ƒæœ‰ç‰¹æ®Šé™åˆ¶</p>
        </div>
        
        <div class="environment-grid">
            <div class="environment-card cloud">
                <h3>â˜ï¸ é›²ç«¯ç’°å¢ƒ (æ¨è–¦)</h3>
                <div class="network-diagram">
                    <div class="network-node user">ä½ çš„é›»è…¦</div>
                    <div class="arrow success">â†’ ç›´æ¥è¨ªå•</div>
                    <div class="network-node cloud">é›²ç«¯ç¯€é»:31000</div>
                </div>
                <div class="code-block"># AWS EKS ç¯„ä¾‹
kubectl apply -f nodeport.yaml
curl http://ec2-instance-ip:31000
âœ… ç›´æ¥æˆåŠŸï¼</div>
                <div class="status-badge works">å®Œç¾é‹ä½œ</div>
                <p><strong>ç‰¹é»ï¼š</strong>é›²ç«¯ä¾›æ‡‰å•†å·²è™•ç†å¥½æ‰€æœ‰ç¶²è·¯é…ç½®</p>
            </div>
            
            <div class="environment-card normal">
                <h3>ğŸ–¥ï¸ Docker Desktop</h3>
                <div class="network-diagram">
                    <div class="network-node user">ä½ çš„é›»è…¦</div>
                    <div class="arrow success">â†’ localhost</div>
                    <div class="network-node direct">localhost:31000</div>
                </div>
                <div class="code-block"># Docker Desktop ç¯„ä¾‹
kubectl apply -f nodeport.yaml
curl http://localhost:31000
âœ… ç›´æ¥æˆåŠŸï¼</div>
                <div class="status-badge works">å®Œç¾é‹ä½œ</div>
                <p><strong>ç‰¹é»ï¼š</strong>Docker Desktop è‡ªå‹•è™•ç†ç«¯å£æ˜ å°„</p>
            </div>
            
            <div class="environment-card normal">
                <h3>ğŸ’» è£¸æ©Ÿ Kubernetes</h3>
                <div class="network-diagram">
                    <div class="network-node user">å¤–éƒ¨ç”¨æˆ¶</div>
                    <div class="arrow success">â†’ ç›´æ¥è¨ªå•</div>
                    <div class="network-node direct">ä¼ºæœå™¨IP:31000</div>
                </div>
                <div class="code-block"># è£¸æ©Ÿå®‰è£ç¯„ä¾‹
kubectl apply -f nodeport.yaml
curl http://server-ip:31000
âœ… ç›´æ¥æˆåŠŸï¼</div>
                <div class="status-badge works">å®Œç¾é‹ä½œ</div>
                <p><strong>ç‰¹é»ï¼š</strong>ç‰©ç†æ©Ÿå™¨ç›´æ¥æš´éœ²ç«¯å£</p>
            </div>
            
            <div class="environment-card special">
                <h3>âš ï¸ ä½ çš„ç’°å¢ƒ (è™›æ“¬æ©Ÿ+Minikube)</h3>
                <div class="network-diagram">
                    <div class="network-node user">Mac</div>
                    <div class="arrow fail">âŒ è¢«é˜»æ“‹</div>
                    <div class="network-node vm">è™›æ“¬æ©Ÿ</div>
                    <div class="arrow success">â†’</div>
                    <div class="network-node k8s">Minikube:31000</div>
                </div>
                <div class="code-block"># ä½ çš„æƒ…æ³
kubectl apply -f nodeport.yaml
curl http://192.168.200.196:31000
âŒ é€£ç·šå¤±æ•—ï¼

# éœ€è¦è®Šé€šæ–¹æ¡ˆ
sudo socat TCP-LISTEN:8090,bind=0.0.0.0,fork,reuseaddr TCP:192.168.49.2:31000 &
curl http://192.168.200.196:8090
âœ… é€éè½‰ç™¼æˆåŠŸï¼</div>
                <div class="status-badge blocked">éœ€è¦è®Šé€š</div>
                <p><strong>ç‰¹é»ï¼š</strong>å¤šå±¤è™›æ“¬åŒ–å°è‡´ç¶²è·¯éš”é›¢</p>
            </div>
        </div>
        
        <div class="why-box">
            <h3>ğŸ¤” ç‚ºä»€éº¼ä½ çš„ç’°å¢ƒç‰¹æ®Šï¼Ÿ</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ç’°å¢ƒé¡å‹</th>
                        <th>ç¶²è·¯æ¶æ§‹</th>
                        <th>NodePort è¡Œç‚º</th>
                        <th>åŸå› </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>é›²ç«¯ K8s</strong></td>
                        <td>ç”¨æˆ¶ â†’ é›²ç«¯ç¯€é»</td>
                        <td><span class="status-badge works">ç›´æ¥è¨ªå•</span></td>
                        <td>é›²ç«¯ä¾›æ‡‰å•†è™•ç†ç¶²è·¯</td>
                    </tr>
                    <tr>
                        <td><strong>Docker Desktop</strong></td>
                        <td>ç”¨æˆ¶ â†’ localhost</td>
                        <td><span class="status-badge works">ç›´æ¥è¨ªå•</span></td>
                        <td>è‡ªå‹•ç«¯å£æ˜ å°„</td>
                    </tr>
                    <tr>
                        <td><strong>è£¸æ©Ÿ K8s</strong></td>
                        <td>ç”¨æˆ¶ â†’ ç‰©ç†æ©Ÿ</td>
                        <td><span class="status-badge works">ç›´æ¥è¨ªå•</span></td>
                        <td>æ²’æœ‰è™›æ“¬åŒ–å±¤</td>
                    </tr>
                    <tr>
                        <td><strong>ä½ çš„ç’°å¢ƒ</strong></td>
                        <td>Mac â†’ è™›æ“¬æ©Ÿ â†’ Minikube</td>
                        <td><span class="status-badge blocked">éœ€è¦è½‰ç™¼</span></td>
                        <td>è™›æ“¬æ©Ÿè»Ÿé«”ç¶²è·¯é™åˆ¶</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="solution-grid">
            <div class="solution-card recommended">
                <h3>ğŸ¯ ç†æƒ³è§£æ±ºæ–¹æ¡ˆ</h3>
                <h4>ä¿®æ”¹è™›æ“¬æ©Ÿç¶²è·¯è¨­å®š</h4>
                <ul style="text-align: left;">
                    <li><strong>VMware:</strong> æ”¹ç‚ºæ©‹æ¥æ¨¡å¼</li>
                    <li><strong>VirtualBox:</strong> è¨­å®šç«¯å£è½‰ç™¼</li>
                    <li><strong>Parallels:</strong> å…±äº«ç¶²è·¯æ¨¡å¼</li>
                </ul>
                <p><strong>çµæœ:</strong> å¯ä»¥ç›´æ¥ä½¿ç”¨ NodePort 31000</p>
            </div>
            
            <div class="solution-card current">
                <h3>ğŸ”§ ä½ ç›®å‰çš„è§£æ±ºæ–¹æ¡ˆ</h3>
                <h4>socat ç«¯å£è½‰ç™¼</h4>
                <ul style="text-align: left;">
                    <li>å¿«é€Ÿæœ‰æ•ˆ</li>
                    <li>ä¸éœ€ä¿®æ”¹è™›æ“¬æ©Ÿè¨­å®š</li>
                    <li>å­¸ç¿’åƒ¹å€¼é«˜</li>
                    <li>é©åˆé–‹ç™¼æ¸¬è©¦</li>
                </ul>
                <p><strong>çµæœ:</strong> é€šé 8090 è¨ªå•åˆ° NodePort</p>
            </div>
        </div>
        
        <div style="background: #d1f2eb; padding: 25px; border-radius: 12px; border-left: 5px solid #00b894; margin: 30px 0;">
            <h3>ğŸ’¡ é‡è¦çµè«–</h3>
            <div style="font-size: 1.1em; line-height: 1.8;">
                <p>âœ… <strong>NodePort æœ¬èº«å®Œå…¨æ­£å¸¸</strong> - ä½ çš„ K8s é…ç½®æ²’å•é¡Œ</p>
                <p>âœ… <strong>å¤§éƒ¨åˆ†ç’°å¢ƒå¯ä»¥ç›´æ¥è¨ªå•</strong> - ä¸éœ€è¦ä»»ä½•è½‰ç™¼</p>
                <p>âš ï¸ <strong>ä½ çš„ç’°å¢ƒæœ‰é¡å¤–é™åˆ¶</strong> - è™›æ“¬æ©Ÿè»Ÿé«”çš„ç¶²è·¯ç­–ç•¥</p>
                <p>ğŸ¯ <strong>ä½ çš„è§£æ±ºæ–¹æ¡ˆå¾ˆæ£’</strong> - å±•ç¾äº†å„ªç§€çš„å•é¡Œè§£æ±ºèƒ½åŠ›</p>
            </div>
        </div>
        
        <div style="background: #667eea; color: white; padding: 25px; border-radius: 12px; text-align: center; margin: 30px 0;">
            <h2>ğŸš€ å­¸ç¿’åƒ¹å€¼ç¸½çµ</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">
                <strong>é›–ç„¶ä½ çš„ç’°å¢ƒéœ€è¦é¡å¤–è¨­å®šï¼Œä½†é€™è®“ä½ å­¸åˆ°äº†æ›´å¤šï¼</strong>
            </p>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <h4>ğŸ“ é¡å¤–å­¸ç¿’æ”¶ç©«</h4>
                    <ul style="text-align: left;">
                        <li>æ·±åº¦ç†è§£ç¶²è·¯æ¶æ§‹</li>
                        <li>æŒæ¡ç«¯å£è½‰ç™¼æŠ€è¡“</li>
                        <li>æ•…éšœæ’æŸ¥ç¶“é©—</li>
                        <li>å¤šç¨®è§£æ±ºæ–¹æ¡ˆæ¯”è¼ƒ</li>
                    </ul>
                </div>
                <div>
                    <h4>ğŸ’ª å¯¦æˆ°æŠ€èƒ½æå‡</h4>
                    <ul style="text-align: left;">
                        <li>socat å·¥å…·ä½¿ç”¨</li>
                        <li>ç³»çµ±åŒ–å•é¡Œè¨ºæ–·</li>
                        <li>ç¶²è·¯å±¤ç´šç†è§£</li>
                        <li>éˆæ´»è®Šé€šèƒ½åŠ›</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
